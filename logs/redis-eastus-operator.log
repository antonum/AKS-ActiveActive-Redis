{"level":"info","ts":"2023-09-08T15:31:02.692Z","logger":"operator-root","msg":"program arguments: [operator-root operator]"}
{"level":"info","ts":"2023-09-08T15:31:02.692Z","logger":"operator-root","msg":"restart delay set to: 5 seconds."}
{"level":"info","ts":"2023-09-08T15:31:02.692Z","logger":"operator-root","msg":"starting redis operator"}
{"level":"info","ts":"2023-09-08T15:31:02.692Z","logger":"operator-root","msg":"running /usr/local/bin/redis-enterprise-operator "}
{"level":"info","ts":"2023-09-08T15:31:02.711Z","logger":"cmd","msg":"Go Version: go1.20.5"}
{"level":"info","ts":"2023-09-08T15:31:02.711Z","logger":"cmd","msg":"Go OS/Arch: linux/amd64"}
{"level":"info","ts":"2023-09-08T15:31:02.711Z","logger":"cmd","msg":"Service Rigger Version: 7.2.4-2"}
{"level":"info","ts":"2023-09-08T15:31:02.711Z","logger":"cmd","msg":"Bootstrapper Version: 7.2.4-2"}
I0908 15:31:03.863408      16 request.go:682] Waited for 1.047593082s due to client-side throttling, not priority and fairness, request: GET:https://10.0.0.1:443/apis/certificates.k8s.io/v1?timeout=32s
{"level":"info","ts":"2023-09-08T15:31:04.224Z","logger":"cmd","msg":"Setting up liveness probe web server"}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"controller-runtime.metrics","msg":"Metrics server is starting to listen","addr":"0.0.0.0:8383"}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"cmd","msg":"Registering Components."}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"RedisEnterpriseActiveActiveDatabaseMissingResourcesGeneratorJob","msg":"Active Active Database and Remote Cluster Controllers are enabled - preparing to start the active active database missing resources generation job."}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"RedisEnterpriseActiveActiveDatabaseHealthReportManagerJob","msg":"Active Active Database and Remote Cluster Controllers are enabled - preparing to start the active active database health report manager job."}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"controller_redisenterprisedatabase","msg":"Database Controller is enabled"}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"controller_redisenterpriseremotecluster","msg":"Remote Cluster Controller is enabled"}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Active-active database Controller is enabled"}
{"level":"info","ts":"2023-09-08T15:31:05.733Z","msg":"Starting server","path":"/metrics","kind":"metrics","addr":"[::]:8383"}
{"level":"info","ts":"2023-09-08T15:31:05.834Z","msg":"Starting EventSource","controller":"redisenterprisecluster-controller","source":"kind source: *v1alpha1.RedisEnterpriseCluster"}
{"level":"info","ts":"2023-09-08T15:31:05.834Z","msg":"Starting Controller","controller":"redisenterprisecluster-controller"}
{"level":"info","ts":"2023-09-08T15:31:05.834Z","msg":"Starting EventSource","controller":"redisenterpriseactiveactivedatabase-controller","source":"kind source: *v1alpha1.RedisEnterpriseActiveActiveDatabase"}
{"level":"info","ts":"2023-09-08T15:31:05.834Z","msg":"Starting Controller","controller":"redisenterpriseactiveactivedatabase-controller"}
{"level":"info","ts":"2023-09-08T15:31:05.834Z","msg":"Starting EventSource","controller":"redisenterpriseremotecluster-controller","source":"kind source: *v1alpha1.RedisEnterpriseRemoteCluster"}
{"level":"info","ts":"2023-09-08T15:31:05.834Z","msg":"Starting Controller","controller":"redisenterpriseremotecluster-controller"}
{"level":"info","ts":"2023-09-08T15:31:05.835Z","msg":"Starting EventSource","controller":"redisenterprisedatabase-controller","source":"kind source: *v1alpha1.RedisEnterpriseDatabase"}
{"level":"info","ts":"2023-09-08T15:31:05.835Z","msg":"Starting Controller","controller":"redisenterprisedatabase-controller"}
{"level":"info","ts":"2023-09-08T15:31:06.436Z","msg":"Starting workers","controller":"redisenterpriseactiveactivedatabase-controller","worker count":1}
{"level":"info","ts":"2023-09-08T15:31:06.535Z","msg":"Starting workers","controller":"redisenterpriseremotecluster-controller","worker count":1}
{"level":"info","ts":"2023-09-08T15:31:06.535Z","msg":"Starting workers","controller":"redisenterprisedatabase-controller","worker count":1}
{"level":"info","ts":"2023-09-08T15:31:06.537Z","msg":"Starting workers","controller":"redisenterprisecluster-controller","worker count":1}
{"level":"info","ts":"2023-09-08T15:31:06.537Z","logger":"controller_redisenterprisecluster","msg":"Updating defaults","Request.Namespace":"rec","Request.Name":"rec-redis-eastus"}
{"level":"info","ts":"2023-09-08T15:31:06.537Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating defaults for rec spec"}
{"level":"info","ts":"2023-09-08T15:31:06.556Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating defaults for rec status"}
{"level":"info","ts":"2023-09-08T15:31:06.676Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: Status.SpecStatus changed from  to Valid"}
{"level":"info","ts":"2023-09-08T15:31:06.689Z","logger":"controller_redisenterprisecluster","msg":"SpecStatus: Valid Spec validation just passed"}
{"level":"info","ts":"2023-09-08T15:31:06.789Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: Update PVC extra labels annotation"}
{"level":"info","ts":"2023-09-08T15:31:06.802Z","logger":"controller_redisenterprisecluster","msg":"Cluster state: PendingCreation. Requested deployment for cluster, CR: {\"kind\":\"RedisEnterpriseCluster\",\"apiVersion\":\"app.redislabs.com/v1alpha1\",\"metadata\":{\"name\":\"rec-redis-eastus\",\"namespace\":\"rec\",\"uid\":\"aa34095d-73a0-4c69-b530-67027616162f\",\"resourceVersion\":\"1719\",\"generation\":2,\"creationTimestamp\":\"2023-09-08T15:30:55Z\",\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"app.redislabs.com/v1\\\",\\\"kind\\\":\\\"RedisEnterpriseCluster\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"name\\\":\\\"rec-redis-eastus\\\",\\\"namespace\\\":\\\"rec\\\"},\\\"spec\\\":{\\\"ingressOrRouteSpec\\\":{\\\"apiFqdnUrl\\\":\\\"api.redis-eastus.demo.umnikov.com\\\",\\\"dbFqdnSuffix\\\":\\\"-db.redis-eastus.demo.umnikov.com\\\",\\\"ingressAnnotations\\\":{\\\"haproxy-ingress.github.io/ssl-passthrough\\\":\\\"true\\\",\\\"kubernetes.io/ingress.class\\\":\\\"haproxy\\\"},\\\"method\\\":\\\"ingress\\\"},\\\"nodes\\\":3,\\\"redisEnterpriseNodeResources\\\":{\\\"limits\\\":{\\\"cpu\\\":\\\"1000m\\\",\\\"memory\\\":\\\"4Gi\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"1000m\\\",\\\"memory\\\":\\\"4Gi\\\"}}}}\\n\",\"operator_version\":\"7.2.4-2\",\"redis.io/pvc_extra_labels\":\"null\"},\"managedFields\":[{\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"apiVersion\":\"app.redislabs.com/v1\",\"time\":\"2023-09-08T15:30:55Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}}},\"f:spec\":{\".\":{},\"f:ingressOrRouteSpec\":{\".\":{},\"f:apiFqdnUrl\":{},\"f:dbFqdnSuffix\":{},\"f:ingressAnnotations\":{\".\":{},\"f:haproxy-ingress.github.io/ssl-passthrough\":{},\"f:kubernetes.io/ingress.class\":{}},\"f:method\":{}},\"f:nodes\":{},\"f:redisEnterpriseNodeResources\":{\".\":{},\"f:limits\":{\".\":{},\"f:memory\":{}},\"f:requests\":{\".\":{},\"f:memory\":{}}}}}},{\"manager\":\"redis-enterprise-operator\",\"operation\":\"Update\",\"apiVersion\":\"app.redislabs.com/v1alpha1\",\"time\":\"2023-09-08T15:31:06Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\"f:operator_version\":{},\"f:redis.io/pvc_extra_labels\":{}}},\"f:spec\":{\"f:clusterCredentialSecretName\":{},\"f:clusterCredentialSecretRole\":{},\"f:clusterCredentialSecretType\":{},\"f:createServiceAccount\":{},\"f:persistentSpec\":{\".\":{},\"f:enabled\":{},\"f:storageClassName\":{},\"f:volumeSize\":{}},\"f:podStartingPolicy\":{\".\":{},\"f:enabled\":{},\"f:startingThresholdSeconds\":{}},\"f:redisEnterpriseImageSpec\":{\".\":{},\"f:imagePullPolicy\":{},\"f:repository\":{},\"f:versionTag\":{}},\"f:redisEnterpriseNodeResources\":{\"f:limits\":{\"f:cpu\":{}},\"f:requests\":{\"f:cpu\":{}}},\"f:serviceAccountName\":{},\"f:services\":{\".\":{},\"f:apiService\":{\".\":{},\"f:type\":{}}},\"f:servicesRiggerSpec\":{\".\":{},\"f:databaseServiceType\":{},\"f:serviceNaming\":{}},\"f:uiServiceType\":{},\"f:username\":{}}}},{\"manager\":\"redis-enterprise-operator\",\"operation\":\"Update\",\"apiVersion\":\"app.redislabs.com/v1alpha1\",\"time\":\"2023-09-08T15:31:06Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\".\":{},\"f:specStatus\":{},\"f:state\":{}}},\"subresource\":\"status\"}]},\"spec\":{\"nodes\":3,\"serviceAccountName\":\"rec-redis-eastus\",\"createServiceAccount\":true,\"uiServiceType\":\"ClusterIP\",\"servicesRiggerSpec\":{\"databaseServiceType\":\"cluster_ip,headless\",\"serviceNaming\":\"bdb_name\"},\"username\":\"demo@redis.com\",\"redisEnterpriseImageSpec\":{\"repository\":\"redislabs/redis\",\"versionTag\":\"7.2.4-52\",\"imagePullPolicy\":\"IfNotPresent\"},\"redisEnterpriseNodeResources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"4Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"4Gi\"}},\"persistentSpec\":{\"enabled\":true,\"storageClassName\":\"\",\"volumeSize\":\"20Gi\"},\"clusterCredentialSecretName\":\"rec-redis-eastus\",\"clusterCredentialSecretType\":\"kubernetes\",\"clusterCredentialSecretRole\":\"\",\"podStartingPolicy\":{\"enabled\":false,\"startingThresholdSeconds\":540},\"ingressOrRouteSpec\":{\"method\":\"ingress\",\"apiFqdnUrl\":\"api.redis-eastus.demo.umnikov.com\",\"dbFqdnSuffix\":\"-db.redis-eastus.demo.umnikov.com\",\"ingressAnnotations\":{\"haproxy-ingress.github.io/ssl-passthrough\":\"true\",\"kubernetes.io/ingress.class\":\"haproxy\"}},\"services\":{\"apiService\":{\"type\":\"ClusterIP\"}}},\"status\":{\"state\":\"PendingCreation\",\"specStatus\":\"Valid\"}}","Request.Namespace":"rec","Request.Name":"rec-redis-eastus"}
{"level":"info","ts":"2023-09-08T15:31:06.903Z","logger":"controller_redisenterprisecluster","msg":"Image information","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","Redis Enterprise":"redislabs/redis:7.2.4-52"}
{"level":"info","ts":"2023-09-08T15:31:06.903Z","logger":"controller_redisenterprisecluster","msg":"Image information","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","Services Rigger":"redislabs/k8s-controller:7.2.4-2"}
{"level":"info","ts":"2023-09-08T15:31:06.903Z","logger":"controller_redisenterprisecluster","msg":"Image information","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","Bootstrapper":"redislabs/operator:7.2.4-2"}
{"level":"info","ts":"2023-09-08T15:31:06.903Z","logger":"controller_redisenterprisecluster","msg":"Image information","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","Operator":"redislabs/operator:7.2.4-2"}
{"level":"info","ts":"2023-09-08T15:31:06.903Z","logger":"controller_redisenterprisecluster","msg":"Persistent configuration: StorageClassName: not set. VolumeSize: 20Gi","Request.Namespace":"rec","Request.Name":"rec-redis-eastus"}
{"level":"info","ts":"2023-09-08T15:31:07.208Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: State changed from PendingCreation to BootstrappingFirstPod."}
{"level":"info","ts":"2023-09-08T15:31:07.321Z","logger":"controller_redisenterprisecluster","msg":"updating bulletinBoard to map[BulletinBoard:bootstrapaction: create_cluster\npodid: 0\nnodezones: {}\n]"}
{"level":"info","ts":"2023-09-08T15:31:07.428Z","logger":"controller_redisenterprisecluster","msg":"updating REC managed API status","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","managedAPIs":{"ldap":true}}
{"level":"info","ts":"2023-09-08T15:31:07.439Z","logger":"controller_redisenterprisecluster","msg":"setting REC finalizers","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","finalizers":["redbfinalizer.redisenterpriseclusters.app.redislabs.com","stsfinalizer.redisenterprisecluster.app.redislabs.com","recpodfinalizer.redisenterprisecluster.app.redislabs.com","reaadbfinalizer.redisenterprisecluster.app.redislabs.com"]}
{"level":"info","ts":"2023-09-08T15:31:07.521Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:31:07.595Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:31:07.675Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:31:07.734Z","logger":"RedisEnterpriseActiveActiveDatabaseHealthReportManagerJob","msg":"Couldn't find env var HEALTH_REPORT_MANAGER_DELAY_PERIOD_SECONDS, using default delay period for health report manager job (2m0s)"}
{"level":"info","ts":"2023-09-08T15:31:07.756Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:31:07.848Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:07.927Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:08.093Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:09.839Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:11.105Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:11.202Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:15.692Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:19.433Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:34.769Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:38.773Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:43.375Z","logger":"controller_redisenterprisecluster","msg":"Waiting for first pod to bootstrap"}
{"level":"info","ts":"2023-09-08T15:32:51.065Z","logger":"controller_redisenterprisecluster","msg":"First pod bootstrapped successfully"}
{"level":"info","ts":"2023-09-08T15:32:51.572Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: State changed from BootstrappingFirstPod to Initializing."}
{"level":"info","ts":"2023-09-08T15:32:51.587Z","logger":"controller_redisenterprisecluster","msg":"updating bulletinBoard to map[BulletinBoard:bootstrapaction: join_cluster\npodid: null\nnodezones: {}\n]"}
{"level":"info","ts":"2023-09-08T15:32:51.957Z","logger":"controller_redisenterprisecluster","msg":"setting slaveHA grace period","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","seconds":1800}
{"level":"info","ts":"2023-09-08T15:32:51.957Z","logger":"controller_redisenterprisecluster","msg":"updating REC module list","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","module list":[{"name":"ReJSON","displayName":"RedisJSON","versions":["2.6.6"]},{"name":"bf","displayName":"RedisBloom","versions":["2.6.3"]},{"name":"graph","displayName":"RedisGraph","versions":["2.10.12"]},{"name":"redisgears_2","displayName":"RedisGears","versions":["2.0.11"]},{"name":"search","displayName":"RediSearch 2","versions":["2.8.4"]},{"name":"timeseries","displayName":"RedisTimeSeries","versions":["1.10.4"]}]}
{"level":"info","ts":"2023-09-08T15:32:51.957Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating module list"}
{"level":"info","ts":"2023-09-08T15:32:51.979Z","logger":"controller_redisenterprisecluster","msg":"updating REC license status","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","license status":{"licenseState":"Valid","activationDate":"2023-09-08T15:32:29Z","expirationDate":"2023-10-08T15:32:29Z","shardsLimit":4}}
{"level":"info","ts":"2023-09-08T15:32:51.979Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating license status"}
{"level":"info","ts":"2023-09-08T15:32:52.062Z","logger":"controller_redisenterprisecluster","msg":"Updating REC ingressOrRouteMethod status","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","IngressOrRouteMethodStatus":"ingress"}
{"level":"info","ts":"2023-09-08T15:32:52.062Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: Updating REC IngressOrRouteMethodStatus status"}
{"level":"info","ts":"2023-09-08T15:32:52.080Z","logger":"controller_redisenterprisecluster","msg":"Updated cluster IngressOrRouteMethodStatus status","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","IngressOrRouteMethodStatus":"ingress"}
{"level":"info","ts":"2023-09-08T15:32:52.322Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:32:52.876Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:32:55.316Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:32:55.592Z","logger":"controller_redisenterprisecluster","msg":"updating REC database bundled versions list","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","db versions status":[{"dbType":"redis","version":"7.2.0","major":true},{"dbType":"redis","version":"6.2.13","major":true},{"dbType":"redis","version":"6.0.20","major":true},{"dbType":"memcached","version":"1.4.17"}]}
{"level":"info","ts":"2023-09-08T15:32:55.592Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating database bundled versions list"}
{"level":"info","ts":"2023-09-08T15:32:55.829Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:32:57.289Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:01.897Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:06.508Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:11.135Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:15.760Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:20.349Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:24.950Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:29.573Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:34.186Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:38.812Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:43.421Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:48.008Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:52.625Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:33:57.264Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:01.844Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:06.560Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:11.105Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:11.315Z","logger":"controller_redisenterprisecluster","msg":"updating REC database bundled versions list","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","db versions status":null}
{"level":"info","ts":"2023-09-08T15:34:11.315Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating database bundled versions list"}
{"level":"info","ts":"2023-09-08T15:34:11.463Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:15.772Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:20.317Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:24.908Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:29.568Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:34.192Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:34.372Z","logger":"controller_redisenterprisecluster","msg":"updating REC database bundled versions list","Request.Namespace":"rec","Request.Name":"rec-redis-eastus","db versions status":[{"dbType":"redis","version":"7.2.0","major":true},{"dbType":"redis","version":"6.2.13","major":true},{"dbType":"redis","version":"6.0.20","major":true},{"dbType":"memcached","version":"1.4.17"}]}
{"level":"info","ts":"2023-09-08T15:34:34.372Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: updating database bundled versions list"}
{"level":"info","ts":"2023-09-08T15:34:34.549Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 1/3"}
{"level":"info","ts":"2023-09-08T15:34:38.782Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:34:43.377Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:34:48.007Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:34:52.630Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:34:57.255Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:01.823Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:06.481Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:11.052Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:15.716Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:20.313Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:24.898Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:29.499Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:34.140Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:38.748Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:43.336Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:48.042Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:52.579Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:35:57.220Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:36:01.784Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:36:06.468Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:36:11.016Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:36:15.719Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:36:20.251Z","logger":"controller_redisenterprisecluster","msg":"Waiting for RedisEnterpriseCluster StatefulSet's pods to be ready: 2/3"}
{"level":"info","ts":"2023-09-08T15:36:24.881Z","logger":"controller_redisenterprisecluster","msg":"All of RedisEnterpriseCluster StatefulSet's pods are ready: 3/3"}
{"level":"info","ts":"2023-09-08T15:36:24.981Z","logger":"controller_redisenterprisecluster","msg":"updateREClusterResource: State changed from Initializing to Running."}
{"level":"info","ts":"2023-09-08T15:38:01.606Z","logger":"controller_redisenterpriseremotecluster","msg":"Updating RERC resource","Namespace":"rec","Name":"redis-eastus"}
{"level":"info","ts":"2023-09-08T15:38:01.621Z","logger":"controller_redisenterpriseremotecluster","msg":"updating RERC resource status","Namespace":"rec","Name":"redis-eastus"}
{"level":"info","ts":"2023-09-08T15:38:01.659Z","logger":"controller_redisenterpriseremotecluster","msg":"updating RERC resource status","Namespace":"rec","Name":"redis-eastus"}
{"level":"info","ts":"2023-09-08T15:38:02.063Z","logger":"controller_redisenterpriseremotecluster","msg":"Updating RERC resource","Namespace":"rec","Name":"redis-canadacentral"}
{"level":"info","ts":"2023-09-08T15:38:02.077Z","logger":"controller_redisenterpriseremotecluster","msg":"updating RERC resource status","Namespace":"rec","Name":"redis-canadacentral"}
{"level":"info","ts":"2023-09-08T15:38:02.165Z","logger":"controller_redisenterpriseremotecluster","msg":"updating RERC resource status","Namespace":"rec","Name":"redis-canadacentral"}
{"level":"info","ts":"2023-09-08T15:46:09.324Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to init Active-Active database with global configurations.","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseGuid":"dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695"}
{"level":"info","ts":"2023-09-08T15:46:09.325Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to create active-active database.","RecNamespace":"rec","Name":"crdb-anton"}
{"level":"info","ts":"2023-09-08T15:46:09.325Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseStatus":{"specStatus":"Valid","guid":"dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695","redisEnterpriseCluster":"rec-redis-eastus"}}
{"level":"info","ts":"2023-09-08T15:46:09.333Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to set finalizer on the RedisEnterpriseActiveActiveDatabase custom resource.","RecNamespace":"rec","Name":"crdb-anton"}
{"level":"info","ts":"2023-09-08T15:46:09.362Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Active-active database task created for CRDB creation.","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseTaskId":"9f693f33-86e7-48bd-a927-8f4eb1440ad6"}
{"level":"info","ts":"2023-09-08T15:46:09.373Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseStatus":{"specStatus":"Valid","status":"pending","guid":"dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695","lastTaskUid":"9f693f33-86e7-48bd-a927-8f4eb1440ad6","redisEnterpriseCluster":"rec-redis-eastus"}}
{"level":"info","ts":"2023-09-08T15:46:21.966Z","logger":"redisenterprisecluster_client","msg":"Active-active database task status is finished.","TaskID":"9f693f33-86e7-48bd-a927-8f4eb1440ad6"}
{"level":"info","ts":"2023-09-08T15:46:21.976Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseStatus":{"specStatus":"Valid","status":"active","guid":"dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695","lastTaskUid":"9f693f33-86e7-48bd-a927-8f4eb1440ad6","redisEnterpriseCluster":"rec-redis-eastus"}}
{"level":"info","ts":"2023-09-08T15:46:22.189Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Going to sync REAADB resource.","RecNamespace":"rec","Name":"crdb-anton","reaadbAnnotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"app.redislabs.com/v1alpha1\",\"kind\":\"RedisEnterpriseActiveActiveDatabase\",\"metadata\":{\"annotations\":{},\"name\":\"crdb-anton\",\"namespace\":\"rec\"},\"spec\":{\"globalConfigurations\":{\"memorySize\":\"200MB\",\"replication\":true,\"shardCount\":1},\"participatingClusters\":[{\"name\":\"redis-eastus\"},{\"name\":\"redis-canadacentral\"}]}}\n","redis.io/certs-latest":"{}","redis.io/certs-local":"{}","redis.io/last-reaadb":"{\"participatingClusters\":[{\"name\":\"redis-eastus\"},{\"name\":\"redis-canadacentral\"}],\"globalConfigurations\":{\"memorySize\":\"200MB\",\"shardCount\":1,\"replication\":true}}","redis.io/rerc-local":"3779"},"isSpecUpdated":false}
{"level":"info","ts":"2023-09-08T15:46:22.199Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseStatus":{"specStatus":"Valid","status":"active","participatingClusters":[{"name":"redis-eastus","id":1},{"name":"redis-canadacentral","id":2}],"guid":"dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695","lastTaskUid":"9f693f33-86e7-48bd-a927-8f4eb1440ad6","redisEnterpriseCluster":"rec-redis-eastus"}}
{"level":"info","ts":"2023-09-08T15:46:25.682Z","logger":"controller_redisenterpriseremotecluster","msg":"Updating RERC resource","Namespace":"rec","Name":"redis-eastus"}
{"level":"info","ts":"2023-09-08T15:46:25.754Z","logger":"controller_redisenterpriseremotecluster","msg":"Updating RERC resource","Namespace":"rec","Name":"redis-canadacentral"}
{"level":"error","ts":"2023-09-08T15:47:05.826Z","logger":"RedisEnterpriseActiveActiveDatabaseHealthReportManagerJob","msg":"Could not fetch CRDB health report.","error":"Get Error https://rec-redis-eastus:9443/v1/crdbs/dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695/health_report. Status: 504","stacktrace":"github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/healthreportmanager.fetchHealthReportsForManagedCRDBS\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/healthreportmanager/job.go:87"}
{"level":"info","ts":"2023-09-08T15:49:12.683Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton","ActiveActiveDatabaseStatus":{"specStatus":"Valid","status":"active","participatingClusters":[{"name":"redis-eastus","id":1},{"name":"redis-canadacentral","id":2,"replicationStatus":"up"}],"guid":"dc32d63a-c0ba-4ac4-a5d4-3eb39c0a8695","lastTaskUid":"9f693f33-86e7-48bd-a927-8f4eb1440ad6","redisEnterpriseCluster":"rec-redis-eastus","replicationStatus":"up"}}
{"level":"info","ts":"2023-09-08T15:52:22.579Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Creating REAADB: crdb-anton2"}
{"level":"info","ts":"2023-09-08T15:52:27.663Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Creating REAADB: crdb-anton2"}
{"level":"info","ts":"2023-09-08T15:52:27.896Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Going to sync REAADB resource.","RecNamespace":"rec","Name":"crdb-anton2","reaadbAnnotations":{"redis.io/certs-latest":"{}","redis.io/certs-local":"{}","redis.io/last-reaadb":"{\"redisEnterpriseCluster\":{\"name\":\"rec-redis-eastus\"},\"participatingClusters\":[{\"name\":\"redis-eastus\"},{\"name\":\"redis-canadacentral\"}],\"globalConfigurations\":{\"memorySize\":\"200MB\",\"shardCount\":1,\"replication\":true}}","redis.io/operator-created":"true","redis.io/rerc-local":"3779"},"isSpecUpdated":false}
{"level":"info","ts":"2023-09-08T15:52:27.907Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton2","ActiveActiveDatabaseStatus":{"specStatus":"Valid","status":"active","participatingClusters":[{"name":"redis-canadacentral","id":2},{"name":"redis-eastus","id":1}],"guid":"a4dc144c-cd34-4097-97a2-b5798d8c5978","lastTaskUid":"00000000-0000-0000-0000-000000000000","redisEnterpriseCluster":"rec-redis-eastus"}}
{"level":"info","ts":"2023-09-08T15:53:14.219Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to update RedisEnterpriseActiveActiveDatabase custom resource status","RecNamespace":"rec","Name":"crdb-anton2","ActiveActiveDatabaseStatus":{"specStatus":"Valid","status":"active","participatingClusters":[{"name":"redis-eastus","id":1},{"name":"redis-canadacentral","id":2,"replicationStatus":"up"}],"guid":"a4dc144c-cd34-4097-97a2-b5798d8c5978","lastTaskUid":"00000000-0000-0000-0000-000000000000","redisEnterpriseCluster":"rec-redis-eastus","replicationStatus":"up"}}
{"level":"info","ts":"2023-09-08T16:08:08.902Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Preparing to remove finalizer from the RedisEnterpriseActiveActiveDatabase custom resource.","RecNamespace":"rec","Name":"crdb-anton2"}
{"level":"error","ts":"2023-09-08T16:08:09.069Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"Failed deleting REAADB resource","RecNamespace":"rec","Name":"crdb-anton2","error":"redisenterpriseactiveactivedatabases.app.redislabs.com \"crdb-anton2\" not found","stacktrace":"github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb.actOnError\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/act_helpers.go:26\ngithub.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb.deleteREAADBResource\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/act_helpers.go:416\ngithub.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb.actOnActiveActiveDatabase\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/act.go:73\ngithub.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb.Act\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/act.go:22\ngithub.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb.(*ReconcileRedisEnterpriseActiveActiveDatabase).Reconcile\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/redisenterpriseactiveactivedatabase_controller.go:131\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:122\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:323\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:274\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:235"}
{"level":"error","ts":"2023-09-08T16:08:09.069Z","logger":"controller_redisenterpriseactiveactivedatabase","msg":"failed to act on active-active database.","RecNamespace":"rec","Name":"crdb-anton2","error":"redisenterpriseactiveactivedatabases.app.redislabs.com \"crdb-anton2\" not found","stacktrace":"github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb.(*ReconcileRedisEnterpriseActiveActiveDatabase).Reconcile\n\t/go/src/github.com/RedisLabs/redis-enterprise-operator/pkg/controller/reaadb/redisenterpriseactiveactivedatabase_controller.go:133\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:122\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:323\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:274\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.14.1/pkg/internal/controller/controller.go:235"}
