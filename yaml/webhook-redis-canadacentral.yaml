apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redis-enterprise-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redisenterprise.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["CREATE", "UPDATE"]
    resources:   ["redisenterprisedatabases", "redisenterpriseactiveactivedatabases", "redisenterpriseremoteclusters"]
  clientConfig:
    service:
      namespace: rec
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURhRENDQWxDZ0F3SUJBZ0lSQU1jdGZYWmFQa0RibngvWWF4U2RTNVl3RFFZSktvWklodmNOQVFFTEJRQXcKUGpFa01DSUdBMVVFQ2hNYlVtVmthWE5NWVdKeklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01SWXdGQVlEVlFRRApFdzFoWkcxcGMzTnBiMjR0ZEd4ek1CNFhEVEl6TURrd09ERTFNekV5TlZvWERUSTRNRGt3TmpFMU16RXlOVm93ClBqRWtNQ0lHQTFVRUNoTWJVbVZrYVhOTVlXSnpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNNUll3RkFZRFZRUUQKRXcxaFpHMXBjM05wYjI0dGRHeHpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQp3ZldXTDJEN3RJTllScFJwUDRBOUt0ZStKcVRSU3VtR25wN056Z3lGRGtEZ25CWGJ2d2hJVzhSNG9oRkw3RVBLCmM1bmw1by90L3I5dGtmUlBpeVYra3dLejFEK0JMV1VKcERrSCsvejhJL3YzMHRwdHFXOWh3YWVSLzB3UnVmUWsKaDJVMHF5Yi9yWEZYdWdwUFF0ekNGUlhxK091cTR6cVVzVUFLb0twbTFSQnpHd2V6UUJYOWtxVmZsOTdCKzlENQo0M0JIRzFxaWpZWnBGcGFxLzhLRitYSzJsMC9QVWZSeDlhaU83N0MzSDU4TVNRN2tJdUZTcDlmZWRzY2NWNS9wCjF5M1VQUHVQQTJwNmhsNU9VOHRBWExHSGc2VGR6eU9XR2JFbzZ5TVE2R1docjFxZEdyTHhpSnIwc2ZFUFk3dVgKRmlUY1JQVE9POG9XMld3OFJiT01ad0lEQVFBQm8yRXdYekJkQmdOVkhSRUVWakJVZ2dsaFpHMXBjM05wYjI2QwpIMkZrYldsemMybHZiaTV5WldNdWMzWmpMbU5zZFhOMFpYSXViRzlqWVd5Q0VXRmtiV2x6YzJsdmJpNXlaV011CmMzWmpnZzFoWkcxcGMzTnBiMjR1Y21Wamh3UUtBQ0pWTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFCNVFqYjUKMW1lTWhFVjYxTWVHUXA4VjlENmZqNWc5ZGxkZWNaNERmaGhDQUpyOEVIWHpuQ0RkTTRoZXNmWDBzblFMMXpneQpRcy9oRXpMUDJleDYyYmMzdlJycWg1STZxOXNkcmtUKzF1TzBKV1Q5czQ5amRkbjgwRkh2ZXc0cVVWTnhEY1NsClRraU5VOFFCa0pVeXV0U1BDQzRQWis0dVRFaEV4SE5abllGY0tjYTNYY3BzK2k1ckdORkxSUjl4TGE0dlJHZnAKRkt1MHJKaW5NM2R4UFd5WjhHLzdLZnNQSmhQN1NIUGhoKzU1V0hEVnloNDNjRENQNVZnZ3J4bTJISEhJNlJCagpGYjJxY29NVnR1NTNybXkxSW45T01jTUtvVlZmRGMzL29hTXZnU1ZPSXJvUzNtWElLVzU3UUVLZHV1ZVdEZG5hCnF2clYzcXlDRzFsdDdqQmYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  admissionReviewVersions: ["v1beta1"]
