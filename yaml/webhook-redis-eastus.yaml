apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redis-enterprise-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redisenterprise.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["CREATE", "UPDATE"]
    resources:   ["redisenterprisedatabases", "redisenterpriseactiveactivedatabases", "redisenterpriseremoteclusters"]
  clientConfig:
    service:
      namespace: rec
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURhRENDQWxDZ0F3SUJBZ0lSQUpiTkdxV29kcExxNUhMbU8vTHRTakF3RFFZSktvWklodmNOQVFFTEJRQXcKUGpFa01DSUdBMVVFQ2hNYlVtVmthWE5NWVdKeklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01SWXdGQVlEVlFRRApFdzFoWkcxcGMzTnBiMjR0ZEd4ek1CNFhEVEl6TURrd09ERTFNekV3TkZvWERUSTRNRGt3TmpFMU16RXdORm93ClBqRWtNQ0lHQTFVRUNoTWJVbVZrYVhOTVlXSnpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNNUll3RkFZRFZRUUQKRXcxaFpHMXBjM05wYjI0dGRHeHpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQo0eTRYaHp1eVZOaEJqaFordG41LzdTM2dDYlpFUHNnVVBPU2ZiK1pzaGNPOVJWdUpqbEpieU45ZVpiUjBIbmxwCkhVaHJtWVFDYVpNdzU1S3hNczB5TWlENzZ4UjBPQXFvVEVTZk5pb2Flay9RR2ZKK2NWUTNFTyt1R0ZTUE9tMzcKQmpRdlFwZnlzRU5DVUdYV1BNcUcvSXYrQlhibklqQWtTM2pMbGc0anFEM25zeFNXWkdTQVk2WnBad1V2WEVWOAp0U3FxQ21GR1J1cmJzVnluWSs5Sy9mVGZIYTc2aXF0bllyZGhpUThMdk1DNWlDbVR0Mm1iTUo2aUpEZXBFczRXCmsxNlk4QVF1WkxDTUFGV3J3ZnpyWWg4M2UyQjdiMXRsNkxJU05zNjNkdFpraWs1VkhwRS9wZVRmM1EyNFRMaWkKMllpM01yaUI0SWRXOUJpOTR1a3Vud0lEQVFBQm8yRXdYekJkQmdOVkhSRUVWakJVZ2dsaFpHMXBjM05wYjI2QwpIMkZrYldsemMybHZiaTV5WldNdWMzWmpMbU5zZFhOMFpYSXViRzlqWVd5Q0VXRmtiV2x6YzJsdmJpNXlaV011CmMzWmpnZzFoWkcxcGMzTnBiMjR1Y21Wamh3UUtBTGRFTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFCdEU0TGkKQ3BwZGIrZVpUTEpJcXBmZ2pOU0VWdzR6U3UyRGtQc2lURTlodXVUcHZRVThUMXBuOXM5TVZTaTJDUFNESFZRQwpaWWw0U3ZGblptNlJSQjFYTWIyWlFnKy9BK05sOFhRa3kzelRRYi9sMG15QkoweDB4b0hyeUlKMUwvbWhSQTQwCjk4aWNBaGtmNFFPZ1VucnVWNElnYjM1WVBLd25rVzBLZWtUeFE2cmo3SHg5c3F0TzllcTYzMHRMbmkyNmt6QTUKdElrRUwrUSt5RDJQdEtDS2NZc0I1VFN6c21GZ1BrTHBEVC94bGl1a2hSS3dCd05BbE0zeW15VUZrRnNHWlBBbwpRS1F3MHBwaHNSU3dINzFNUlVYa1JpYklocTdPTUdmaUpDb0UxeVlHOVVIbEhXQ1pzVDVFQ2NGdUZBMlNxdE16CjJudFB0Qnd2R09QUzFvSDUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  admissionReviewVersions: ["v1beta1"]
