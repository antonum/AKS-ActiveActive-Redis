apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redis-enterprise-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redisenterprise.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["CREATE", "UPDATE"]
    resources:   ["redisenterprisedatabases", "redisenterpriseactiveactivedatabases", "redisenterpriseremoteclusters"]
  clientConfig:
    service:
      namespace: rec
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaekNDQWsrZ0F3SUJBZ0lRQXFUbTZTSC9yKzVHdkIyd05wKzd1REFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13T0RJeE1qRTFNakExV2hjTk1qZ3dPREU1TWpFMU1qQTFXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFESQowVW9ZSGI4a3hCK2N2cWRpTDBFOE42TS9zTEY3V1p0M1dCUjRkRlhtaDRXekZwR0t0UWphUUVRbjdtdkVkM3cxCmFDN2ZacGM4ZHd3U0lwVnZKMFN0K1JFU1hBenZ2MjMzVnE1aWtxV2hiamVuZk5LUWhDNUd6LzFjQlFFZlBPU3AKVDVLSWVUalFQUUpDbGdyR1FzTklMeDZwMWlqQWh0TDRqck1FK09ZN3FabzY2ejRvNm5KR1NpRjM1U0ZUNjhISAprQmIycjdwYkwxdllXbUVHZm5vSHdidzZJWlIzeUFsbTNVUkl1TkF2TW5mczA5NE5TR2dEdkh6LzIyb2FNNlhECldUUS9jQVAweWUydXNXY0d6VGlOQjA5NVpCeTZieVlSQlB4ejBpcmIvczVLTTJhdzM2L2NwaGZvMEJrMTNscHQKMWFmUjFlS0ZpWXY4dEdCQjJmdk5BZ01CQUFHallUQmZNRjBHQTFVZEVRUldNRlNDQ1dGa2JXbHpjMmx2Ym9JZgpZV1J0YVhOemFXOXVMbkpsWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYklJUllXUnRhWE56YVc5dUxuSmxZeTV6CmRtT0NEV0ZrYldsemMybHZiaTV5WldPSEJBb0FmS0F3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUFsQ09jaW0Kb094QXZkZlNtdGZCUmhLaHNXNFNJRVozanRDOHFGVWpEZzNuRXEvQ3JwRllpTmF0MWFZYlp3OHp3Wk8vODBYYwpjZCtwSC90V21pKzdpRUtiNUo2RjFjOFV0enFRRjhlcHE3amUrOEYwZWJSa0xEZzN0bDA4NHpJMk1Gekcwb0ZDCmgvR1RsWk1FUXA2M1RkOGQ0QzZpR1VWbDlOZG5hSmg1YTl2UVA5SmFwcHM5Q2pjakxITm5rY3pxTGliaHgzN1cKcTRrTHQzenhENFNxWExyS0pxdy9xdTl2cWVmZy9ab04yLyttenVwYWl5Wm00bjFkb2FZVnZEOUlyMzYzcmRpcwpMdHJEazZpQzNUSi9HY1ZGYjd6bjN2ck1tWUhiVkJOQWxWcnN4YVl1SGpKcnc0M1RETVI1SVdOREpFSUc1TUVFCkhxTFBzWXhzVE52cDl5cz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  admissionReviewVersions: ["v1beta1"]
