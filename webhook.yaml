apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redis-enterprise-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redisenterprise.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["CREATE", "UPDATE"]
    resources:   ["redisenterprisedatabases", "redisenterpriseactiveactivedatabases", "redisenterpriseremoteclusters"]
  clientConfig:
    service:
      namespace: rec
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaekNDQWsrZ0F3SUJBZ0lRUklTc2FObUJsMExNYmNDSWNkSk1UVEFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13T0RFME1UTXlPRFV6V2hjTk1qZ3dPREV5TVRNeU9EVXpXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEVApWVnUyQmUyMUovRHVhNW1ZODAzbnliVmZ0ckYwVkF2Mk9wdjFnam40QXdMVzZFa1A4U2hNRDR4L2s2dUF4akdnCkh0elJ4d1JNbTk5ekhwbkthKzVISERQbDBZTGRZVDk4N1g1and5S0dIT3dKYjJVU1NNRXE2VTh6VFdCU1UvOXQKaElvcjlOZWxMOGRJc1NTbU8rUUk3REQxQUh0a2I4ZEJXMU91T1o2RTFFUTJrd3hmKzFzd2dpOTBmL09LTlR3cgpETHE2OWpMZUl2eExiMjd4T1JGVUpVcDQxcHJBWUFBckdVWHV5TUlXaHlWN2lPTkFueFpKeFhXNWtoL0ZIaG1hCnpVMXY3RTJ1WEpYSXV4VWhxcmducnVXWWlESEZHQzMzTFAxb3pUS3p6VzZLK1lGVkNySGdGZlVkRE5EZGRlakMKZnh6bGphbTduREJRVXZrWUpkczFBZ01CQUFHallUQmZNRjBHQTFVZEVRUldNRlNDQ1dGa2JXbHpjMmx2Ym9JZgpZV1J0YVhOemFXOXVMbkpsWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYklJUllXUnRhWE56YVc5dUxuSmxZeTV6CmRtT0NEV0ZrYldsemMybHZiaTV5WldPSEJBb0ExYmN3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUw1ckh4K08KSWEzVE5zc0V0Z0J3bTEydHUvL0drZzVrc0NQeXJoa2ViSTVGT3dLQzNwc2dSQXVteFl6NGVtK3U3M0VOODFrMQpXRThiMGJVc1VIeEd2OUNMNG02TmhiNFNLOFo3dFEvTG9RTHRhTHhMZ1FUenFVNWFETzNYSHBZTm1uMkVTUDgxCk1NaFg0ZUdpNEh0SXpxS1dvTGZUalpyTldVOGVLUWVaTjdaNUZzMWh4N3JCOThxM043KzlsZU4rRUtXRGYxYkEKL0I2Y0ZpbHZ3LzA1U0ZLOVVWOW92NXFMSFdxZWRsdC84Y053Y083U3ZJWUt4NCtEcWlURThTdm81ZXZKQm5PUwpSbXAwWktNamw5ay9OM28xelRrYjQxcE00cXRabDVCcWdHejM5SnpvRFR3cml0NUZjbm5pYVhNZ0xlSHFjd0ZhCk5ERy9zb01vcFZmVHRmUT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  admissionReviewVersions: ["v1beta1"]
