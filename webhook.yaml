apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redis-enterprise-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redisenterprise.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["CREATE", "UPDATE"]
    resources:   ["redisenterprisedatabases", "redisenterpriseactiveactivedatabases", "redisenterpriseremoteclusters"]
  clientConfig:
    service:
      namespace: rec
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURhRENDQWxDZ0F3SUJBZ0lSQUxxbzc1QnpscjNtbUlQVlNIMGNMeW93RFFZSktvWklodmNOQVFFTEJRQXcKUGpFa01DSUdBMVVFQ2hNYlVtVmthWE5NWVdKeklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01SWXdGQVlEVlFRRApFdzFoWkcxcGMzTnBiMjR0ZEd4ek1CNFhEVEl6TURneE9ERTVNemN4TVZvWERUSTRNRGd4TmpFNU16Y3hNVm93ClBqRWtNQ0lHQTFVRUNoTWJVbVZrYVhOTVlXSnpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNNUll3RkFZRFZRUUQKRXcxaFpHMXBjM05wYjI0dGRHeHpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQp4ZTNjM0s1cnpHRElseFV1RlpJb1o3TVk0SjJ2QmY5YVhzRVFBcVBBUlQ3NTZtdXBBNWExYW1NMlpscHVsbC9zCjFEdGl6S2hyZFd6YTFZVDFUdXh4b3VscEdsRHdmNzhyLzlORW4xME1jMUVhM1Y1dklXdkNjWFoxOVpsQ0Y1K1UKeDNkSmVZMWdpR2xxc0d0NUVXS3NTRWxrZGpXN1BNSy83aUkvOE1EeVV0ZFRReXYzWTExaktOMjRDMnUzZTMvOQpkZDkycCtGK0ZYeE0xWU96Qmx1dFlZVll3cTVsUFhOeHpkaENkMHFQSCtoekl2dEFjcGg5RmpmRDhGYUFjeU1xClhvRTJEaDduT3NlODFNR0k4bFdqV2ROTWEremUwMHBLYk9lMFJSZU52Vk1FYWpPWEVNdjVJZFFRMjBWRkJKZEgKRzlXcTY1QUJVc0RvK25pOFE5T0NJd0lEQVFBQm8yRXdYekJkQmdOVkhSRUVWakJVZ2dsaFpHMXBjM05wYjI2QwpIMkZrYldsemMybHZiaTV5WldNdWMzWmpMbU5zZFhOMFpYSXViRzlqWVd5Q0VXRmtiV2x6YzJsdmJpNXlaV011CmMzWmpnZzFoWkcxcGMzTnBiMjR1Y21Wamh3UUtBS21rTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBZitKR0UKaGlkNkpYbm9GUzNMZzc3czNnbk5mSHlKblBBNHFtTGZwUmIvZTY4cXJtWk1FTCtNbFRsT0x1VHgva3h6ZXEyKwo1YTJoUEtBN1RBTEZVWXpwVUNxTzQ4UHdSY2JyQnl6VVRRUUtlOEMvYSt6dllsRytxYVI3c2RTbTBHdlZZV0NUCmF3U0dWZ3N2Z3oxL3RLUkpWcWhxbjVXd1VhbVNNSGZzNmFJVTZNVTJYeGw1UHczSU92bUJzMHhHVFBKVUl5R3AKWG1PQlA3QzB6SmlOV0U2bmVQWTd1RkFnMDI5aEREK3hrdXZtNVhtZW5ZZGxveWNuRkNBbGVsbHZvTFVIZ0x4RgpuemhISW5lRGlOdTFDU3NFeTlMRURmc0RZcVowVk5NMlo5NDEwRnJYU3NPSHdwRVpsRmszM3NqWDRYQXl1RXJRCmhtMnNmL0NmYUNyM0xESUgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  admissionReviewVersions: ["v1beta1"]
