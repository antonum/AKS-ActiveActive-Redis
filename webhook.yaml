apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redis-enterprise-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redisenterprise.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["CREATE", "UPDATE"]
    resources:   ["redisenterprisedatabases", "redisenterpriseactiveactivedatabases", "redisenterpriseremoteclusters"]
  clientConfig:
    service:
      namespace: rec
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaekNDQWsrZ0F3SUJBZ0lRSjRsQnpraHFzUTVXeG1aRDdlL1NCakFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13T0RJeU1UZ3lOakU0V2hjTk1qZ3dPREl3TVRneU5qRTRXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEVQprZEs2bkxyRlFBbTNYWjNzbVRJdGdiVWJsYmVlSGV3NGFhZUJtaVJxS2JqNzJtMVZtRkxmbVFTellVTnhkRHVSClI5SXNGblpvN2tidGV2TFFHTHBodExpV1R4NGdmNmpvVFQrRlR5MEpiQlJsNTJaRlhEUGdpaWxxN1pKVW5CVGYKejhqZkdwTXV6bVNQa1IyMDl4S0pldHR4eGppc0hjeDVTR3FyVXZhWEdVZm1yVHpZYjhPNGh2MWpLV1ljcXNCago3anNyWVhhTERVcElXd2lNRGxFMWR4aWFjMTlwMGFvSWxmTkJtc3ZYdGlvSWx3aERONzJ0amxkVEp1TkFFclpWCjY4ekxDSkZOU0xJS1pTaStDWkN5K1Fpek9UNEdvQ3hWTyttOVl4MkNRbjR3NUZmR3BsVFJyU0NBRFA1OUk4UnQKYnpBRHNvT3QxR3gvVjA4bFZGVmxBZ01CQUFHallUQmZNRjBHQTFVZEVRUldNRlNDQ1dGa2JXbHpjMmx2Ym9JZgpZV1J0YVhOemFXOXVMbkpsWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYklJUllXUnRhWE56YVc5dUxuSmxZeTV6CmRtT0NEV0ZrYldsemMybHZiaTV5WldPSEJBb0E3WWt3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVkdTgzWmoKclQxYU4vOHhaTDdyTFJTUEZFQkVTWXFodHpUZy84T2RxWG5STUwwVWRIRkNsM0hzRXd1ZU0rSjlFbFdIV0tIOQpvOUFYalltaEttSVoxM2NmU3FjdGUwbHRvNjU3MzBkN215aFRkTG9YQWVkUXd6bHA3WkZuSS9ZWTlURW1pb0hkClEzZk96ZGtKRkw1MnpneEdQelJJRVE2YlRsVC8xa1ovMkx4eGRrM1h5Tzd5TFpNV1Z4c2RGbUozWUNtTlNKbUUKYzBac2NYa0FYOHVpVEx4Zy9qQkJIcHRFR0U1bWtFcWFzLzFDdFJLMjR1ZW44anFrcnJJMzZGbDZ3UzJ2ZEI1bwpCZ0wwR3dmM0JCejlXbG05UHR4aUQvd0NFOWE1SENHYlB1b3BmUk9reDM2eGJseW1sVkpEbUM2UGZMcWNsR2NzCjdCOG92NDZob1VNK2tsVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
  admissionReviewVersions: ["v1beta1"]
